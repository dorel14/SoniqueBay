2025-05-10 18:52:35,594 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 18:52:38,632 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 18:52:38,632 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 18:52:38,647 :: INFO :: Démarrage du Worker Celery...
2025-05-10 18:52:38,647 :: INFO :: Démarrage du Worker Celery...
2025-05-10 18:52:38,648 :: INFO :: Dossier Celery vérifié: ./data/celery_in
2025-05-10 18:52:38,649 :: INFO :: Dossier Celery vérifié: ./data/celery_out
2025-05-10 18:52:38,650 :: INFO :: Dossier Celery vérifié: ./data/celery_processed
2025-05-10 18:53:29,879 :: INFO :: Scanning directory: Y:\2 Be 3
2025-05-10 19:01:10,273 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:01:13,297 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:01:13,297 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:01:13,315 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:01:13,315 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:01:13,315 :: INFO :: Dossier Celery vérifié: ./data/celery_in
2025-05-10 19:01:13,316 :: INFO :: Dossier Celery vérifié: ./data/celery_out
2025-05-10 19:01:13,318 :: INFO :: Dossier Celery vérifié: ./data/celery_processed
2025-05-10 19:04:48,727 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:04:51,751 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:04:51,754 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:04:51,775 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:04:51,775 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:14:50,634 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:14:53,654 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:14:53,654 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:14:53,660 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:14:53,660 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:18:40,091 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:18:43,114 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:18:43,114 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:18:43,122 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:18:43,122 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:21:30,167 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:21:33,189 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:21:33,189 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:21:33,208 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:21:33,208 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:23:21,847 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:23:24,867 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:23:24,867 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:23:24,872 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:23:24,872 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:25:11,916 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:25:14,933 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:25:14,933 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:25:14,937 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:25:14,937 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:27:13,801 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:27:16,821 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:27:16,821 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:27:16,830 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:27:16,830 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:29:02,942 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:29:05,958 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:29:05,958 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:29:05,964 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:29:05,964 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:31:30,953 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:31:33,968 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:31:33,968 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:31:33,976 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:31:33,976 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:33:57,941 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:34:00,955 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:34:00,955 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:34:00,963 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:34:00,963 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:36:49,819 :: INFO :: Scanning directory: Y:\2 Be 3
2025-05-10 19:41:10,444 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:41:13,468 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:41:13,468 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:41:13,482 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:41:13,482 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:42:17,092 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:42:20,105 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:42:20,105 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:42:20,126 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:42:20,126 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:43:22,731 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:43:25,746 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:43:25,746 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:43:25,750 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:43:25,750 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:43:55,968 :: INFO :: Scanning directory: Y:\2 Be 3
2025-05-10 19:46:24,328 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:46:27,348 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:46:27,348 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:46:27,357 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:46:27,359 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:46:29,038 :: INFO :: Connected to sqla+sqlite:///data/celery-broker.db
2025-05-10 19:46:29,066 :: INFO :: celery@PC_Asus ready.
2025-05-10 19:47:31,272 :: INFO :: Scanning directory: Y:\2 Be 3
2025-05-10 19:47:31,323 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] received
2025-05-10 19:47:31,324 :: INFO :: Début du scan du répertoire: Y:\2 Be 3
2025-05-10 19:47:33,233 :: ERROR :: Erreur globale: object of type 'generator' has no len()
2025-05-10 19:47:33,284 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] retry: Retry in 60s
2025-05-10 19:47:33,324 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] received
2025-05-10 19:48:33,240 :: INFO :: Début du scan du répertoire: Y:\2 Be 3
2025-05-10 19:48:33,877 :: ERROR :: Erreur globale: object of type 'generator' has no len()
2025-05-10 19:48:33,951 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] retry: Retry in 60s
2025-05-10 19:48:34,551 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] received
2025-05-10 19:49:33,894 :: INFO :: Début du scan du répertoire: Y:\2 Be 3
2025-05-10 19:49:34,264 :: ERROR :: Erreur globale: object of type 'generator' has no len()
2025-05-10 19:49:34,288 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] retry: Retry in 60s
2025-05-10 19:49:34,759 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] received
2025-05-10 19:50:34,273 :: INFO :: Début du scan du répertoire: Y:\2 Be 3
2025-05-10 19:50:35,112 :: ERROR :: Erreur globale: object of type 'generator' has no len()
2025-05-10 19:50:35,116 :: ERROR :: Task backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] raised unexpected: MaxRetriesExceededError("Can't retry backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] args:('Y:\\\\2 Be 3',) kwargs:{}")
Traceback (most recent call last):
  File "C:\Users\david\Documents\devs\SoniqueBay-app\backend\celery_tasks\tasks.py", line 89, in scan_and_index_music
    # Gestion des erreurs par fichier
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "C:\Users\david\Documents\devs\SoniqueBay-app\backend\celery_tasks\tasks.py", line 74, in process_files
    logger.info(f"Indexé avec succès: {file.get('title')}")
                                              ^^^^^^^^^^
TypeError: object of type 'generator' has no len()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\david\Documents\devs\SoniqueBay-app\.venv\Lib\site-packages\celery\app\trace.py", line 453, in trace_task
    R = retval = fun(*args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\Documents\devs\SoniqueBay-app\.venv\Lib\site-packages\celery\app\trace.py", line 736, in __protected_call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\Documents\devs\SoniqueBay-app\backend\celery_tasks\tasks.py", line 93, in scan_and_index_music
    except Exception as e:
  File "C:\Users\david\Documents\devs\SoniqueBay-app\.venv\Lib\site-packages\celery\app\task.py", line 744, in retry
    raise self.MaxRetriesExceededError(
celery.exceptions.MaxRetriesExceededError: Can't retry backend.celery_tasks.tasks.scan_and_index_music[b019f34a-f584-48a7-b8d7-d5099e44b1f8] args:('Y:\\2 Be 3',) kwargs:{}
2025-05-10 19:51:54,599 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:51:57,617 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:51:57,617 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:51:57,631 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:51:57,632 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:51:59,502 :: INFO :: Connected to sqla+sqlite:///data/celery-broker.db
2025-05-10 19:51:59,545 :: INFO :: celery@PC_Asus ready.
2025-05-10 19:52:29,956 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 19:52:29,973 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 19:52:30,070 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 19:52:30,104 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 19:52:30,707 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[b24e0bc7-f3a0-4c0e-a0f2-ce72a6d4d572] received
2025-05-10 19:52:30,721 :: INFO :: Début du scan du répertoire: Y:\2 Be 3
2025-05-10 19:52:30,739 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 19:52:30,751 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 19:52:31,170 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 19:52:31,186 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 19:52:31,186 :: INFO :: Nombre de fichiers trouvés : 2
2025-05-10 19:52:32,327 :: INFO :: HTTP Request: POST http://localhost:8001/api/tracks/ "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 19:52:32,327 :: INFO :: HTTP Request: POST http://localhost:8001/api/tracks/ "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 19:52:32,327 :: ERROR :: Erreur API pour Partir un jour (remix): {"detail":[{"type":"missing","loc":["body","artist_id"],"msg":"Field required","input":{"path":"Y:\\2 Be 3\\Partir un jour\\01 - 2 Be 3 - Partir un jour (remix).mp3","title":"Partir un jour (remix)","artist":"2 Be 3","album":"Partir un jour","genre":"Gay Metal","year":"1996","track_number":"01/2","disc_number":"1/1","duration":226,"musicbrainz_id":null,"musicbrainz_albumid":null,"musicbrainz_artistid":null},"url":"https://errors.pydantic.dev/2.7/v/missing"},{"type":"missing","loc":["body","album_id"],"msg":"Field required","input":{"path":"Y:\\2 Be 3\\Partir un jour\\01 - 2 Be 3 - Partir un jour (remix).mp3","title":"Partir un jour (remix)","artist":"2 Be 3","album":"Partir un jour","genre":"Gay Metal","year":"1996","track_number":"01/2","disc_number":"1/1","duration":226,"musicbrainz_id":null,"musicbrainz_albumid":null,"musicbrainz_artistid":null},"url":"https://errors.pydantic.dev/2.7/v/missing"}]}
2025-05-10 19:52:32,327 :: ERROR :: Erreur API pour Regarde-moi: {"detail":[{"type":"missing","loc":["body","artist_id"],"msg":"Field required","input":{"path":"Y:\\2 Be 3\\Regarde-moi\\01 - 2 Be 3 - Regarde-moi.mp3","title":"Regarde-moi","artist":"2 Be 3","album":"Regarde-moi","genre":"Gay Metal","year":"1997","track_number":"01/2","disc_number":"1/1","duration":200,"musicbrainz_id":null,"musicbrainz_albumid":null,"musicbrainz_artistid":null},"url":"https://errors.pydantic.dev/2.7/v/missing"},{"type":"missing","loc":["body","album_id"],"msg":"Field required","input":{"path":"Y:\\2 Be 3\\Regarde-moi\\01 - 2 Be 3 - Regarde-moi.mp3","title":"Regarde-moi","artist":"2 Be 3","album":"Regarde-moi","genre":"Gay Metal","year":"1997","track_number":"01/2","disc_number":"1/1","duration":200,"musicbrainz_id":null,"musicbrainz_albumid":null,"musicbrainz_artistid":null},"url":"https://errors.pydantic.dev/2.7/v/missing"}]}
2025-05-10 19:52:32,327 :: INFO :: Traitement du lot 1/1 terminé
2025-05-10 19:52:32,327 :: INFO :: Scan et indexation terminés avec succès
2025-05-10 19:52:32,357 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[b24e0bc7-f3a0-4c0e-a0f2-ce72a6d4d572] succeeded in 1.6400000000139698s: None
2025-05-10 19:56:41,484 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:56:44,498 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:56:44,498 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:56:44,513 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:56:44,513 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:56:46,059 :: INFO :: Connected to sqla+sqlite:///data/celery-broker.db
2025-05-10 19:56:46,078 :: INFO :: celery@PC_Asus ready.
2025-05-10 19:57:13,570 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 19:57:13,614 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 19:57:13,728 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 19:57:13,753 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 19:57:14,253 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[a7db9a7d-569b-4841-943c-6241adb8c8ff] received
2025-05-10 19:57:14,263 :: INFO :: Début du scan du répertoire: Y:\2 Be 3
2025-05-10 19:57:14,288 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 19:57:14,303 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 19:57:14,673 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 19:57:14,683 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 19:57:14,683 :: INFO :: Nombre de fichiers trouvés : 2
2025-05-10 19:57:15,267 :: ERROR :: Erreur lors du traitement de Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3: create_or_get_album() missing 1 required positional argument: 'artist_id'
2025-05-10 19:57:15,267 :: ERROR :: Erreur lors du traitement de Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3: create_or_get_album() missing 1 required positional argument: 'artist_id'
2025-05-10 19:57:15,267 :: INFO :: Traitement du lot 1/1 terminé
2025-05-10 19:57:15,267 :: ERROR :: Erreur pour Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3: create_or_get_album() missing 1 required positional argument: 'artist_id'
2025-05-10 19:57:15,267 :: ERROR :: Erreur pour Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3: create_or_get_album() missing 1 required positional argument: 'artist_id'
2025-05-10 19:57:15,274 :: INFO :: Scan et indexation terminés avec succès
2025-05-10 19:57:15,298 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[a7db9a7d-569b-4841-943c-6241adb8c8ff] succeeded in 1.0309999999590218s: None
2025-05-10 19:58:28,396 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 19:58:31,410 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:58:31,410 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 19:58:31,429 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:58:31,429 :: INFO :: Démarrage du Worker Celery...
2025-05-10 19:58:33,119 :: INFO :: Connected to sqla+sqlite:///data/celery-broker.db
2025-05-10 19:58:33,137 :: INFO :: celery@PC_Asus ready.
2025-05-10 19:58:56,520 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 19:58:56,540 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 19:58:56,644 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 19:58:56,674 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 19:58:57,280 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[1bf97dcb-4b4c-42b0-8538-d82fb077239f] received
2025-05-10 19:58:57,291 :: INFO :: Début du scan du répertoire: Y:\2 Be 3
2025-05-10 19:58:57,312 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 19:58:57,329 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 19:58:57,391 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 19:58:57,408 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 19:58:57,408 :: INFO :: Nombre de fichiers trouvés : 2
2025-05-10 19:58:57,921 :: ERROR :: Impossible de créer/récupérer l'artiste pour: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 19:58:57,921 :: ERROR :: Impossible de créer/récupérer l'artiste pour: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 19:58:57,921 :: INFO :: Traitement du lot 1/1 terminé
2025-05-10 19:58:57,928 :: INFO :: Scan et indexation terminés avec succès
2025-05-10 19:58:57,952 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[1bf97dcb-4b4c-42b0-8538-d82fb077239f] succeeded in 0.6720000000204891s: None
2025-05-10 20:00:03,318 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 20:00:06,354 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 20:00:06,354 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 20:00:06,367 :: INFO :: Démarrage du Worker Celery...
2025-05-10 20:00:06,367 :: INFO :: Démarrage du Worker Celery...
2025-05-10 20:00:08,417 :: INFO :: Connected to sqla+sqlite:///data/celery-broker.db
2025-05-10 20:00:08,442 :: INFO :: celery@PC_Asus ready.
2025-05-10 20:00:41,874 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 20:00:41,916 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 20:00:42,019 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 20:00:42,041 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 20:00:42,639 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[984b9324-7231-49d0-9922-690036891b84] received
2025-05-10 20:00:42,651 :: INFO :: Début du scan du répertoire: Y:\2 Be 3
2025-05-10 20:00:42,664 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 20:00:42,672 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 20:00:42,739 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 20:00:42,755 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 20:00:42,755 :: INFO :: Nombre de fichiers trouvés : 2
2025-05-10 20:00:43,488 :: INFO :: HTTP Request: GET http://localhost:8001/api/artists/search?name=2+Be+3 "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 20:00:43,489 :: INFO :: HTTP Request: GET http://localhost:8001/api/artists/search?name=2+Be+3 "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 20:00:43,489 :: INFO :: Création d'un nouvel artiste: 2 Be 3
2025-05-10 20:00:43,490 :: INFO :: Création d'un nouvel artiste: 2 Be 3
2025-05-10 20:00:43,541 :: INFO :: HTTP Request: POST http://localhost:8001/api/artists/ "HTTP/1.1 201 Created"
2025-05-10 20:00:43,541 :: INFO :: Nouvel artiste créé avec succès: 2 Be 3
2025-05-10 20:00:43,574 :: INFO :: HTTP Request: POST http://localhost:8001/api/albums/ "HTTP/1.1 500 Internal Server Error"
2025-05-10 20:00:43,581 :: ERROR :: Erreur création album: Internal Server Error
2025-05-10 20:00:43,585 :: INFO :: HTTP Request: POST http://localhost:8001/api/artists/ "HTTP/1.1 201 Created"
2025-05-10 20:00:43,586 :: INFO :: Nouvel artiste créé avec succès: 2 Be 3
2025-05-10 20:00:43,603 :: INFO :: HTTP Request: POST http://localhost:8001/api/albums/ "HTTP/1.1 500 Internal Server Error"
2025-05-10 20:00:43,606 :: ERROR :: Erreur création album: Internal Server Error
2025-05-10 20:00:43,850 :: INFO :: HTTP Request: POST http://localhost:8001/api/tracks/ "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 20:00:43,852 :: ERROR :: Erreur API pour Regarde-moi: {"detail":[{"type":"int_type","loc":["body","artist_id"],"msg":"Input should be a valid integer","input":null,"url":"https://errors.pydantic.dev/2.7/v/int_type"}]}
2025-05-10 20:00:43,852 :: INFO :: HTTP Request: POST http://localhost:8001/api/tracks/ "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 20:00:43,853 :: ERROR :: Erreur API pour Partir un jour (remix): {"detail":[{"type":"int_type","loc":["body","artist_id"],"msg":"Input should be a valid integer","input":null,"url":"https://errors.pydantic.dev/2.7/v/int_type"}]}
2025-05-10 20:00:43,854 :: INFO :: Traitement du lot 1/1 terminé
2025-05-10 20:00:43,855 :: INFO :: Scan et indexation terminés avec succès
2025-05-10 20:00:43,880 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[984b9324-7231-49d0-9922-690036891b84] succeeded in 1.25s: None
2025-05-10 20:03:13,040 :: INFO :: Démarrage de l'API FastAPI...
2025-05-10 20:03:16,064 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 20:03:16,064 :: INFO :: Démarrage du Frontend NiceGUI...
2025-05-10 20:03:16,071 :: INFO :: Démarrage du Worker Celery...
2025-05-10 20:03:16,071 :: INFO :: Démarrage du Worker Celery...
2025-05-10 20:03:18,001 :: INFO :: Connected to sqla+sqlite:///data/celery-broker.db
2025-05-10 20:03:18,039 :: INFO :: celery@PC_Asus ready.
2025-05-10 20:03:40,921 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 20:03:40,945 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 20:03:41,087 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 20:03:41,118 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 20:03:42,253 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[fd5d4a56-35fa-41f5-8687-1b67e3477f29] received
2025-05-10 20:03:42,276 :: INFO :: Début du scan du répertoire: Y:\2 Be 3
2025-05-10 20:03:42,287 :: INFO :: Début du scan dans le répertoire: Y:\2 Be 3
2025-05-10 20:03:42,307 :: INFO :: Traitement du fichier: Y:\2 Be 3\Regarde-moi\01 - 2 Be 3 - Regarde-moi.mp3
2025-05-10 20:03:42,367 :: INFO :: Traitement du fichier: Y:\2 Be 3\Partir un jour\01 - 2 Be 3 - Partir un jour (remix).mp3
2025-05-10 20:03:42,392 :: INFO :: Scan terminé. 2 fichiers trouvés
2025-05-10 20:03:42,392 :: INFO :: Nombre de fichiers trouvés : 2
2025-05-10 20:03:43,228 :: INFO :: HTTP Request: GET http://localhost:8001/api/artists/search?name=2+Be+3 "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 20:03:43,228 :: INFO :: HTTP Request: GET http://localhost:8001/api/artists/search?name=2+Be+3 "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 20:03:43,228 :: INFO :: Création d'un nouvel artiste: 2 Be 3
2025-05-10 20:03:43,228 :: INFO :: Création d'un nouvel artiste: 2 Be 3
2025-05-10 20:03:43,293 :: INFO :: HTTP Request: POST http://localhost:8001/api/artists/ "HTTP/1.1 201 Created"
2025-05-10 20:03:43,295 :: INFO :: Nouvel artiste créé avec succès: 2 Be 3
2025-05-10 20:03:43,304 :: INFO :: HTTP Request: POST http://localhost:8001/api/albums/ "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 20:03:43,306 :: ERROR :: Erreur création album: {"detail":[{"type":"int_type","loc":["body","album_artist_id"],"msg":"Input should be a valid integer","input":null,"url":"https://errors.pydantic.dev/2.7/v/int_type"}]}
2025-05-10 20:03:43,341 :: INFO :: HTTP Request: POST http://localhost:8001/api/tracks/ "HTTP/1.1 500 Internal Server Error"
2025-05-10 20:03:43,363 :: ERROR :: Erreur API pour Regarde-moi: Internal Server Error
2025-05-10 20:03:43,366 :: INFO :: HTTP Request: POST http://localhost:8001/api/artists/ "HTTP/1.1 201 Created"
2025-05-10 20:03:43,368 :: INFO :: Nouvel artiste créé avec succès: 2 Be 3
2025-05-10 20:03:43,374 :: INFO :: HTTP Request: POST http://localhost:8001/api/albums/ "HTTP/1.1 422 Unprocessable Entity"
2025-05-10 20:03:43,375 :: ERROR :: Erreur création album: {"detail":[{"type":"int_type","loc":["body","album_artist_id"],"msg":"Input should be a valid integer","input":null,"url":"https://errors.pydantic.dev/2.7/v/int_type"}]}
2025-05-10 20:03:43,403 :: INFO :: HTTP Request: POST http://localhost:8001/api/tracks/ "HTTP/1.1 500 Internal Server Error"
2025-05-10 20:03:43,409 :: ERROR :: Erreur API pour Partir un jour (remix): Internal Server Error
2025-05-10 20:03:43,409 :: INFO :: Traitement du lot 1/1 terminé
2025-05-10 20:03:43,409 :: INFO :: Scan et indexation terminés avec succès
2025-05-10 20:03:43,438 :: INFO :: Task backend.celery_tasks.tasks.scan_and_index_music[fd5d4a56-35fa-41f5-8687-1b67e3477f29] succeeded in 1.1709999999729916s: None
